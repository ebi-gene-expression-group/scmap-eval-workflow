profiles {

    standard {
        process.executor = 'local'
    }

    cluster{
        process.executor='lsf'
        process.queue='production-rh74'
        process.clusterOptions = '-R \"select[hname!=\'hx-noah-05-02\']\"'

        executor.queueSize=1000
        executor.perJobMemLimit=true
        executor.exitReadTimeout='100000 sec'
        executor.pollInterval = '5sec'

        conda.cacheDir = "/nfs/production3/ma/home/asolovyev/scmap-workflow/envs" //change this later 
        conda.createTimeout = "30 min"
    } 
}

params {
    output_dir = "$baseDir/data/output"
    projection_method = "cell" //must be 'cell' or 'cluster'

    // query parameters 
    query_matrix_url = "ftp://ftp.ebi.ac.uk/pub/databases/microarray/data/atlas/sc_experiments/E-MTAB-7098/E-MTAB-7098.aggregated_filtered_normalised_counts.mtx"

    query_barcodes_url = "ftp://ftp.ebi.ac.uk/pub/databases/microarray/data/atlas/sc_experiments/E-MTAB-7098/E-MTAB-7098.aggregated_filtered_normalised_counts.mtx_cols"

    query_genes_url = "ftp://ftp.ebi.ac.uk/pub/databases/microarray/data/atlas/sc_experiments/E-MTAB-7098/E-MTAB-7098.aggregated_filtered_normalised_counts.mtx_rows"

    query_raw_data = "$baseDir/data/query_raw_data/"
    //query_sce = "$baseDir/data/projected_sce.rds"
    

    // reference parameters
    reference_matrix_url = "ftp://ftp.ebi.ac.uk/pub/databases/microarray/data/atlas/sc_experiments/E-MTAB-7098/E-MTAB-7098.aggregated_filtered_normalised_counts.mtx"

    reference_barcodes_url = "ftp://ftp.ebi.ac.uk/pub/databases/microarray/data/atlas/sc_experiments/E-MTAB-7098/E-MTAB-7098.aggregated_filtered_normalised_counts.mtx_cols"

    reference_genes_url = "ftp://ftp.ebi.ac.uk/pub/databases/microarray/data/atlas/sc_experiments/E-MTAB-7098/E-MTAB-7098.aggregated_filtered_normalised_counts.mtx_rows" 

    reference_metadata_url = "ftp://ftp.ebi.ac.uk/pub/databases/microarray/data/atlas/sc_experiments/E-MTAB-7098/E-MTAB-7098.sdrf.txt"
    reference_raw_data = "$baseDir/data/reference_raw_data"

    col_names = "TRUE"
    cell_id_col = "Comment.ENA_RUN."
    cluster_col = "Characteristics.cell.type."
   
    //reference_sce = "$baseDir/data/reference_sce.rds"
    plot_file = "$baseDir/data/output/feature_plot_file.png"
    threshold = 0.7
    //num_chunks = 'NULL'
    //num_clusters = 'NULL'
    //num_nearset_neighbours
}